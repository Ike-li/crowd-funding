!function(e){function f(){}function g(a){function b(j){j.prototype.option||(j.prototype.option=function(i){a.isPlainObject(i)&&(this.options=a.extend(!0,this.options,i))})}function c(k,l){a.fn[k]=function(i){if("string"==typeof i){for(var j=h.call(arguments,1),m=0,n=this.length;n>m;m++){var o=this[m],p=a.data(o,k);if(p){if(a.isFunction(p[i])&&"_"!==i.charAt(0)){var q=p[i].apply(p,j);if(void 0!==q){return q}}else{d("no such method '"+i+"' for "+k+" instance")}}else{d("cannot call methods on "+k+" prior to initialization; attempted to call '"+i+"'")}}return this}return this.each(function(){var r=a.data(this,k);r?(r.option(i),r._init()):(r=new l(this,i),a.data(this,k,r))})}}if(a){var d="undefined"==typeof console?f:function(j){console.error(j)};return a.bridget=function(k,l){b(l),c(k,l)},a.bridget}}var h=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],g):g("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(g){function h(a){var b=g.event;return b.target=b.target||b.srcElement||a,b}var i=document.documentElement,j=function(){};i.addEventListener?j=function(a,b,c){a.addEventListener(b,c,!1)}:i.attachEvent&&(j=function(a,b,c){a[b+c]=c.handleEvent?function(){var d=h(a);c.handleEvent.call(c,d)}:function(){var d=h(a);c.call(a,d)},a.attachEvent("on"+b,a[b+c])});var k=function(){};i.removeEventListener?k=function(a,b,c){a.removeEventListener(b,c,!1)}:i.detachEvent&&(k=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var l={bind:j,unbind:k};"function"==typeof define&&define.amd?define("eventie/eventie",l):"object"==typeof exports?module.exports=l:g.eventie=l}(this),function(h){function i(a){"function"==typeof a&&(i.isReady?a():n.push(a))}function j(a){var b="readystatechange"===a.type&&"complete"!==m.readyState;i.isReady||b||k()}function k(){i.isReady=!0;for(var a=0,b=n.length;b>a;a++){var c=n[a];c()}}function l(a){return"complete"===m.readyState?k():(a.bind(m,"DOMContentLoaded",j),a.bind(m,"readystatechange",j),a.bind(h,"load",j)),i}var m=h.document,n=[];i.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],l):"object"==typeof exports?module.exports=l(require("eventie")):h.docReady=l(h.eventie)}(window),function(){function g(){}function h(a,b){for(var c=a.length;c--;){if(a[c].listener===b){return c}}return -1}function i(a){return function(){return this[a].apply(this,arguments)}}var j=g.prototype,k=this,l=k.EventEmitter;j.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d){d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}}else{b=d[a]||(d[a]=[])}return b},j.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1){c.push(a[b].listener)}return c},j.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},j.addListener=function(a,b){var c,d=this.getListenersAsObject(a),e="object"==typeof b;for(c in d){d.hasOwnProperty(c)&&-1===h(d[c],b)&&d[c].push(e?b:{listener:b,once:!1})}return this},j.on=i("addListener"),j.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},j.once=i("addOnceListener"),j.defineEvent=function(a){return this.getListeners(a),this},j.defineEvents=function(a){for(var b=0;b<a.length;b+=1){this.defineEvent(a[b])}return this},j.removeListener=function(a,b){var c,d,e=this.getListenersAsObject(a);for(d in e){e.hasOwnProperty(d)&&(c=h(e[d],b),-1!==c&&e[d].splice(c,1))}return this},j.off=i("removeListener"),j.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},j.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},j.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,m=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp){for(d=c.length;d--;){f.call(this,b,c[d])}}else{for(d in b){b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):m.call(this,d,e))}}return this},j.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c){delete d[a]}else{if(a instanceof RegExp){for(b in d){d.hasOwnProperty(b)&&a.test(b)&&delete d[b]}}else{delete this._events}}return this},j.removeAllListeners=i("removeEvent"),j.emitEvent=function(a,b){var c,d,e,f,m=this.getListenersAsObject(a);for(e in m){if(m.hasOwnProperty(e)){for(d=m[e].length;d--;){c=m[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener)}}}return this},j.trigger=i("emitEvent"),j.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},j.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},j._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},j._getEvents=function(){return this._events||(this._events={})},g.noConflict=function(){return k.EventEmitter=l,g},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return g}):"object"==typeof module&&module.exports?module.exports=g:k.EventEmitter=g}.call(this),function(e){function f(a){if(a){if("string"==typeof h[a]){return a}a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,c=0,d=g.length;d>c;c++){if(b=g[c]+a,"string"==typeof h[b]){return b}}}}var g="Webkit Moz ms Ms O".split(" "),h=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return f}):"object"==typeof exports?module.exports=f:e.getStyleProperty=f}(window),function(h){function i(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function j(){}function k(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=n.length;c>b;b++){var d=n[b];a[d]=0}return a}function l(a){function b(){if(!o){o=!0;var p=h.getComputedStyle;if(e=function(){var q=p?function(u){return p(u,null)}:function(u){return u.currentStyle};return function(u){var v=q(u);return v||m("Style returned "+v+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),v}}(),f=a("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[f]="border-box";var s=document.body||document.documentElement;s.appendChild(r);var t=e(r);g=200===i(t.width),s.removeChild(r)}}}function c(H){if(b(),"string"==typeof H&&(H=document.querySelector(H)),H&&"object"==typeof H&&H.nodeType){var O=e(H);if("none"===O.display){return k()}var p={};p.width=H.offsetWidth,p.height=H.offsetHeight;for(var r=p.isBorderBox=!(!f||!O[f]||"border-box"!==O[f]),D=0,L=n.length;L>D;D++){var P=n[D],C=O[P];C=d(H,C);var G=parseFloat(C);p[P]=isNaN(G)?0:G}var K=p.paddingLeft+p.paddingRight,M=p.paddingTop+p.paddingBottom,B=p.marginLeft+p.marginRight,F=p.marginTop+p.marginBottom,J=p.borderLeftWidth+p.borderRightWidth,N=p.borderTopWidth+p.borderBottomWidth,A=r&&g,E=i(O.width);E!==!1&&(p.width=E+(A?0:K+J));var I=i(O.height);return I!==!1&&(p.height=I+(A?0:M+N)),p.innerWidth=p.width-(K+J),p.innerHeight=p.height-(M+N),p.outerWidth=p.width+B,p.outerHeight=p.height+F,p}}function d(r,s){if(h.getComputedStyle||-1===s.indexOf("%")){return s}var t=r.style,u=t.left,v=r.runtimeStyle,p=v&&v.left;return p&&(v.left=r.currentStyle.left),t.left=s,s=t.pixelLeft,t.left=u,p&&(v.left=p),s}var e,f,g,o=!1;return c}var m="undefined"==typeof console?j:function(a){console.error(a)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],l):"object"==typeof exports?module.exports=l(require("desandro-get-style-property")):h.getSize=l(h.getStyleProperty)}(window),function(j){function k(a,b){return a[p](b)}function l(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function m(a,b){l(a);for(var c=a.parentNode.querySelectorAll(b),d=0,e=c.length;e>d;d++){if(c[d]===a){return !0}}return !1}function n(a,b){return l(a),k(a,b)}var o,p=function(){if(j.matchesSelector){return"matchesSelector"}for(var a=["webkit","moz","ms","o"],b=0,c=a.length;c>b;b++){var d=a[b],e=d+"MatchesSelector";if(j[e]){return e}}}();if(p){var q=document.createElement("div"),r=k(q,"div");o=r?k:n}else{o=m}"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(h){function i(a,b){for(var c in b){a[c]=b[c]}return a}function j(a){for(var b in a){return !1}return b=null,!0}function k(a){return a.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}function l(u,w,y){function A(o,p){o&&(this.element=o,this.layout=p,this.position={x:0,y:0},this._create())}var a=y("transition"),b=y("transform"),c=a&&b,e=!!y("perspective"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[a],f=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var o={},p=0,q=f.length;q>p;p++){var r=f[p],s=y(r);s&&s!==r&&(o[r]=s)}return o}();i(A.prototype,u.prototype),A.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},A.prototype.handleEvent=function(o){var p="on"+o.type;this[p]&&this[p](o)},A.prototype.getSize=function(){this.size=w(this.element)},A.prototype.css=function(o){var p=this.element.style;for(var q in o){var r=g[q]||q;p[r]=o[q]}},A.prototype.getPosition=function(){var s=n(this.element),B=this.layout.options,C=B.isOriginLeft,o=B.isOriginTop,p=parseInt(s[C?"left":"right"],10),q=parseInt(s[o?"top":"bottom"],10);p=isNaN(p)?0:p,q=isNaN(q)?0:q;var r=this.layout.size;p-=C?r.paddingLeft:r.paddingRight,q-=o?r.paddingTop:r.paddingBottom,this.position.x=p,this.position.y=q},A.prototype.layoutPosition=function(){var o=this.layout.size,p=this.layout.options,q={};p.isOriginLeft?(q.left=this.position.x+o.paddingLeft+"px",q.right=""):(q.right=this.position.x+o.paddingRight+"px",q.left=""),p.isOriginTop?(q.top=this.position.y+o.paddingTop+"px",q.bottom=""):(q.bottom=this.position.y+o.paddingBottom+"px",q.top=""),this.css(q),this.emitEvent("layout",[this])};var t=e?function(o,p){return"translate3d("+o+"px, "+p+"px, 0)"}:function(o,p){return"translate("+o+"px, "+p+"px)"};A.prototype._transitionTo=function(F,G){this.getPosition();var o=this.position.x,p=this.position.y,q=parseInt(F,10),r=parseInt(G,10),s=q===this.position.x&&r===this.position.y;if(this.setPosition(F,G),s&&!this.isTransitioning){return void this.layoutPosition()}var B=F-o,C=G-p,D={},E=this.layout.options;B=E.isOriginLeft?B:-B,C=E.isOriginTop?C:-C,D.transform=t(B,C),this.transition({to:D,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},A.prototype.goTo=function(o,p){this.setPosition(o,p),this.layoutPosition()},A.prototype.moveTo=c?A.prototype._transitionTo:A.prototype.goTo,A.prototype.setPosition=function(o,p){this.position.x=parseInt(o,10),this.position.y=parseInt(p,10)},A.prototype._nonTransition=function(o){this.css(o.to),o.isCleaning&&this._removeStyles(o.to);for(var p in o.onTransitionEnd){o.onTransitionEnd[p].call(this)}},A.prototype._transition=function(o){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(o)}var p=this._transn;for(var q in o.onTransitionEnd){p.onEnd[q]=o.onTransitionEnd[q]}for(q in o.to){p.ingProperties[q]=!0,o.isCleaning&&(p.clean[q]=!0)}if(o.from){this.css(o.from);var r=this.element.offsetHeight;r=null}this.enableTransition(o.to),this.css(o.to),this.isTransitioning=!0};var v=b&&k(b)+",opacity";A.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(d,this,!1))},A.prototype.transition=A.prototype[a?"_transition":"_nonTransition"],A.prototype.onwebkitTransitionEnd=function(o){this.ontransitionend(o)},A.prototype.onotransitionend=function(o){this.ontransitionend(o)};var x={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};A.prototype.ontransitionend=function(o){if(o.target===this.element){var p=this._transn,q=x[o.propertyName]||o.propertyName;if(delete p.ingProperties[q],j(p.ingProperties)&&this.disableTransition(),q in p.clean&&(this.element.style[o.propertyName]="",delete p.clean[q]),q in p.onEnd){var r=p.onEnd[q];r.call(this),delete p.onEnd[q]}this.emitEvent("transitionEnd",[this])}},A.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},A.prototype._removeStyles=function(o){var p={};for(var q in o){p[q]=""}this.css(p)};var z={transitionProperty:"",transitionDuration:""};return A.prototype.removeTransitionStyles=function(){this.css(z)},A.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},A.prototype.remove=function(){if(!a||!parseFloat(this.layout.options.transitionDuration)){return void this.removeElem()}var o=this;this.on("transitionEnd",function(){return o.removeElem(),!0}),this.hide()},A.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var o=this.layout.options;this.transition({from:o.hiddenStyle,to:o.visibleStyle,isCleaning:!0})},A.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var o=this.layout.options;this.transition({from:o.visibleStyle,to:o.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},A.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},A}var m=h.getComputedStyle,n=m?function(a){return m(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],l):"object"==typeof exports?module.exports=l(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(h.Outlayer={},h.Outlayer.Item=l(h.EventEmitter,h.getSize,h.getStyleProperty))}(window),function(s){function t(a,b){for(var c in b){a[c]=b[c]}return a}function u(a){return"[object Array]"===p.call(a)}function v(a){var b=[];if(u(a)){b=a}else{if(a&&"number"==typeof a.length){for(var c=0,d=a.length;d>c;c++){b.push(a[c])}}else{b.push(a)}}return b}function w(a,b){var c=r(b,a);-1!==c&&b.splice(c,1)}function x(a){return a.replace(/(.)([A-Z])/g,function(b,c,d){return c+"-"+d}).toLowerCase()}function y(a,b,c,d,e,f){function g(j,k){if("string"==typeof j&&(j=z.querySelector(j)),!j||!q(j)){return void (A&&A.error("Bad "+this.constructor.namespace+" element: "+j))}this.element=j,this.options=t({},this.constructor.defaults),this.option(k);var l=++h;this.element.outlayerGUID=l,i[l]=this,this._create(),this.options.isInitLayout&&this.layout()}var h=0,i={};return g.namespace="outlayer",g.Item=f,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(g.prototype,c.prototype),g.prototype.option=function(j){t(this.options,j)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(l){for(var m=this._filterFindItemElements(l),n=this.constructor.Item,C=[],D=0,E=m.length;E>D;D++){var j=m[D],k=new n(j,this);C.push(k)}return C},g.prototype._filterFindItemElements=function(n){n=v(n);for(var C=this.options.itemSelector,D=[],E=0,F=n.length;F>E;E++){var j=n[E];if(q(j)){if(C){e(j,C)&&D.push(j);for(var k=j.querySelectorAll(C),l=0,m=k.length;m>l;l++){D.push(k[l])}}else{D.push(j)}}}return D},g.prototype.getItemElements=function(){for(var j=[],k=0,l=this.items.length;l>k;k++){j.push(this.items[k].element)}return j},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var j=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,j),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=d(this.element)},g.prototype._getMeasurement=function(l,m){var j,k=this.options[l];k?("string"==typeof k?j=this.element.querySelector(k):q(k)&&(j=k),this[l]=j?d(j)[m]:k):this[l]=0},g.prototype.layoutItems=function(j,k){j=this._getItemsForLayout(j),this._layoutItems(j,k),this._postLayout()},g.prototype._getItemsForLayout=function(j){for(var k=[],l=0,m=j.length;m>l;l++){var n=j[l];n.isIgnored||k.push(n)}return k},g.prototype._layoutItems=function(n,C){function D(){E.emitEvent("layoutComplete",[E,n])}var E=this;if(!n||!n.length){return void D()}this._itemsOn(n,"layout",D);for(var F=[],j=0,k=n.length;k>j;j++){var l=n[j],m=this._getItemLayoutPosition(l);m.item=l,m.isInstant=C||l.isLayoutInstant,F.push(m)}this._processLayoutQueue(F)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(l){for(var m=0,j=l.length;j>m;m++){var k=l[m];this._positionItem(k.item,k.x,k.y,k.isInstant)}},g.prototype._positionItem=function(l,m,j,k){k?l.goTo(m,j):l.moveTo(m,j)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var j=this._getContainerSize();j&&(this._setContainerMeasure(j.width,!0),this._setContainerMeasure(j.height,!1))}},g.prototype._getContainerSize=o,g.prototype._setContainerMeasure=function(j,k){if(void 0!==j){var l=this.size;l.isBorderBox&&(j+=k?l.paddingLeft+l.paddingRight+l.borderLeftWidth+l.borderRightWidth:l.paddingBottom+l.paddingTop+l.borderTopWidth+l.borderBottomWidth),j=Math.max(j,0),this.element.style[k?"width":"height"]=j+"px"}},g.prototype._itemsOn=function(D,E,F){function G(){return j++,j===k&&F.call(l),!0}for(var j=0,k=D.length,l=this,m=0,n=D.length;n>m;m++){var C=D[m];C.on(E,G)}},g.prototype.ignore=function(j){var k=this.getItem(j);k&&(k.isIgnored=!0)},g.prototype.unignore=function(j){var k=this.getItem(j);k&&delete k.isIgnored},g.prototype.stamp=function(l){if(l=this._find(l)){this.stamps=this.stamps.concat(l);for(var m=0,j=l.length;j>m;m++){var k=l[m];this.ignore(k)}}},g.prototype.unstamp=function(l){if(l=this._find(l)){for(var m=0,j=l.length;j>m;m++){var k=l[m];w(k,this.stamps),this.unignore(k)}}},g.prototype._find=function(j){return j?("string"==typeof j&&(j=this.element.querySelectorAll(j)),j=v(j)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var j=0,k=this.stamps.length;k>j;j++){var l=this.stamps[j];this._manageStamp(l)}}},g.prototype._getBoundingRect=function(){var j=this.element.getBoundingClientRect(),k=this.size;this._boundingRect={left:j.left+k.paddingLeft+k.borderLeftWidth,top:j.top+k.paddingTop+k.borderTopWidth,right:j.right-(k.paddingRight+k.borderRightWidth),bottom:j.bottom-(k.paddingBottom+k.borderBottomWidth)}},g.prototype._manageStamp=o,g.prototype._getElementOffset=function(j){var k=j.getBoundingClientRect(),l=this._boundingRect,m=d(j),n={left:k.left-l.left-m.marginLeft,top:k.top-l.top-m.marginTop,right:l.right-k.right-m.marginRight,bottom:l.bottom-k.bottom-m.marginBottom};return n},g.prototype.handleEvent=function(j){var k="on"+j.type;this[k]&&this[k](j)},g.prototype.bindResize=function(){this.isResizeBound||(a.bind(s,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&a.unbind(s,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function j(){k.resize(),delete k.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var k=this;this.resizeTimeout=setTimeout(j,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var j=d(this.element),k=this.size&&j;return k&&j.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(j){var k=this._itemize(j);return k.length&&(this.items=this.items.concat(k)),k},g.prototype.appended=function(j){var k=this.addItems(j);k.length&&(this.layoutItems(k,!0),this.reveal(k))},g.prototype.prepended=function(j){var k=this._itemize(j);if(k.length){var l=this.items.slice(0);this.items=k.concat(l),this._resetLayout(),this._manageStamps(),this.layoutItems(k,!0),this.reveal(k),this.layoutItems(l)}},g.prototype.reveal=function(l){var m=l&&l.length;if(m){for(var j=0;m>j;j++){var k=l[j];k.reveal()}}},g.prototype.hide=function(l){var m=l&&l.length;if(m){for(var j=0;m>j;j++){var k=l[j];k.hide()}}},g.prototype.getItem=function(l){for(var m=0,j=this.items.length;j>m;m++){var k=this.items[m];if(k.element===l){return k}}},g.prototype.getItems=function(m){if(m&&m.length){for(var n=[],C=0,j=m.length;j>C;C++){var k=m[C],l=this.getItem(k);l&&n.push(l)}return n}},g.prototype.remove=function(k){k=v(k);var l=this.getItems(k);if(l&&l.length){this._itemsOn(l,"remove",function(){this.emitEvent("removeComplete",[this,l])});for(var m=0,n=l.length;n>m;m++){var j=l[m];j.remove(),w(j,this.items)}}},g.prototype.destroy=function(){var j=this.element.style;j.height="",j.position="",j.width="";for(var k=0,l=this.items.length;l>k;k++){var m=this.items[k];m.destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete i[n],delete this.element.outlayerGUID,B&&B.removeData(this.element,this.constructor.namespace)},g.data=function(j){var k=j&&j.outlayerGUID;return k&&i[k]},g.create=function(j,k){function l(){g.apply(this,arguments)}return Object.create?l.prototype=Object.create(g.prototype):t(l.prototype,g.prototype),l.prototype.constructor=l,l.defaults=t({},g.defaults),t(l.defaults,k),l.prototype.settings={},l.namespace=j,l.data=g.data,l.Item=function(){f.apply(this,arguments)},l.Item.prototype=new f,b(function(){for(var I=x(j),J=z.querySelectorAll(".js-"+I),m="data-"+I+"-options",n=0,C=J.length;C>n;n++){var D,E=J[n],F=E.getAttribute(m);try{D=F&&JSON.parse(F)}catch(G){A&&A.error("Error parsing "+m+" on "+E.nodeName.toLowerCase()+(E.id?"#"+E.id:"")+": "+G);continue}var H=new l(E,D);B&&B.data(E,j,H)}}),B&&B.bridget&&B.bridget(j,l),l},g.Item=f,g}var z=s.document,A=s.console,B=s.jQuery,o=function(){},p=Object.prototype.toString,q="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},r=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],y):"object"==typeof exports?module.exports=y(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):s.Outlayer=y(s.eventie,s.docReady,s.EventEmitter,s.getSize,s.matchesSelector,s.Outlayer.Item)}(window),function(d){function e(a,b){var c=a.create("masonry");return c.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var h=this.cols;for(this.colYs=[];h--;){this.colYs.push(0)}this.maxY=0},c.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var i=this.items[0],j=i&&i.element;this.columnWidth=j&&b(j).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},c.prototype.getContainerWidth=function(){var i=this.options.isFitWidth?this.element.parentNode:this.element,j=b(i);this.containerWidth=j&&j.innerWidth},c.prototype._getItemLayoutPosition=function(q){q.getSize();var r=q.size.outerWidth%this.columnWidth,s=r&&1>r?"round":"ceil",t=Math[s](q.size.outerWidth/this.columnWidth);t=Math.min(t,this.cols);for(var u=this._getColGroup(t),v=Math.min.apply(Math,u),w=f(u,v),m={x:this.columnWidth*w,y:v},n=v+q.size.outerHeight,o=this.cols+1-u.length,p=0;o>p;p++){this.colYs[w+p]=n}return m},c.prototype._getColGroup=function(i){if(2>i){return this.colYs}for(var j=[],k=this.cols+1-i,l=0;k>l;l++){var m=this.colYs.slice(l,l+i);j[l]=Math.max.apply(Math,m)}return j},c.prototype._manageStamp=function(k){var l=b(k),m=this._getElementOffset(k),n=this.options.isOriginLeft?m.left:m.right,o=n+l.outerWidth,p=Math.floor(n/this.columnWidth);p=Math.max(0,p);var q=Math.floor(o/this.columnWidth);q-=o%this.columnWidth?0:1,q=Math.min(this.cols-1,q);for(var r=(this.options.isOriginTop?m.top:m.bottom)+l.outerHeight,x=p;q>=x;x++){this.colYs[x]=Math.max(r,this.colYs[x])}},c.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var h={height:this.maxY};return this.options.isFitWidth&&(h.width=this._getContainerFitWidth()),h},c.prototype._getContainerFitWidth=function(){for(var i=0,j=this.cols;--j&&0===this.colYs[j];){i++}return(this.cols-i)*this.columnWidth-this.gutter},c.prototype.needsResizeLayout=function(){var h=this.containerWidth;return this.getContainerWidth(),h!==this.containerWidth},c}var f=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,g=a.length;g>c;c++){var h=a[c];if(h===b){return c}}return -1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):d.Masonry=e(d.Outlayer,d.getSize)}(window);
